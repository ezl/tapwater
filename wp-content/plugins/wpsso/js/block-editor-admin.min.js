var{getCurrentPostId:getCurrentPostId}=wp.data.select("core/editor"),{isSavingMetaBoxes:isSavingMetaBoxes}=wp.data.select("core/edit-post"),{createNotice:createNotice,removeNotice:removeNotice}=wp.data.dispatch("core/notices"),{createElement:createElement,RawHTML:RawHTML}=wp.element,wasSavingContainer=!1;function wpssoUpdateContainers(){if(jQuery.isArray(sucomMetaboxL10n._mb_container_ids)){var e=getCurrentPostId();for(var o in sucomMetaboxL10n._mb_container_ids){var a=sucomMetaboxL10n._mb_container_ids[o],t="update_container_id_"+a,s={action:t=(t=(t=t.toLowerCase()).replace(/[:\/\-\. ]+/g,"_")).replace(/[^a-z0-9_\-]/g,""),post_id:e,_ajax_nonce:sucomMetaboxL10n._ajax_nonce};jQuery.post(ajaxurl,s,function(e){e&&jQuery("#"+a).replaceWith(e)})}}}function wpssoCreateNotices(){var e={action:"wpsso_get_notices_json",context:"block_editor",_ajax_nonce:sucomMetaboxL10n._ajax_nonce,_exclude_types:sucomMetaboxL10n._tb_notices};jQuery.getJSON(ajaxurl,e,function(e){jQuery.each(e,function(o){jQuery.each(e[o],function(a){var t=!1,s=e[o][a].msg_html,n=e[o][a].msg_spoken,r=(createElement(RawHTML,{},s),{id:a,spokenMessage:e[o][a].msg_spoken,isDismissible:!e[o][a].dismiss_time});"err"==o?t="error":"warn"==o?t="warning":"inf"==o?t="info":"upd"==o&&(t="success"),t&&(removeNotice(a),createNotice(t,n,r),jQuery("div.wpsso-notice").parents("div.components-notice").removeClass("components-notice"))})}),wpssoUpdateToolbar()})}function wpssoUpdateToolbar(e){if(sucomMetaboxL10n._tb_notices){e=void 0===e||e;var o={action:"wpsso_get_notices_json",context:"toolbar_notices",_ajax_nonce:sucomMetaboxL10n._ajax_nonce,_notice_types:sucomMetaboxL10n._tb_notices};jQuery.getJSON(ajaxurl,o,function(o){var a="",t="",s=0,n={},r=sucomMetaboxL10n._no_notices_html;if(jQuery.each(o,function(e){jQuery.each(o[e],function(t){a+=o[e][t].msg_html,n[e]=++n[e]||1,s++})}),jQuery("body.wp-admin").removeClass("has-toolbar-notices"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("has-toolbar-notices"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("toolbar-notices-error"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("toolbar-notices-warning"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("toolbar-notices-info"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").removeClass("toolbar-notices-success"),e&&(a?(jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(a),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("has-toolbar-notices"),jQuery("body.wp-admin").addClass("has-toolbar-notices")):jQuery("#wp-admin-bar-wpsso-toolbar-notices-container").html(r)),jQuery("#wpsso-toolbar-notices-count").html(s),s){t="";n.err?t="error":n.warn?t="warning":n.inf?t="info":n.upd&&(t="success"),jQuery("#wp-admin-bar-wpsso-toolbar-notices").addClass("toolbar-notices-"+t)}})}}jQuery(document).ready(function(){wpssoCreateNotices()}),wp.data.subscribe(function(){var e=isSavingMetaBoxes();wasSavingContainer&&(e||(wpssoUpdateContainers(),wpssoCreateNotices())),wasSavingContainer=e});